function attachCKEditor(n){var t,i;for($.validator.setDefaults({ignore:""}),CKEDITOR.timestamp="v=8",t=0;t<n.length;t++)i=CKEDITOR.replace(n[t]),i.updateElement()}function doesUrlNameExist(n,t){var u="Данное UrlName уже занято",f=n?$("#Entity_Id").val():$("#Id").val(),i=n?$("#Entity_UrlName"):$("#UrlName"),e=i.closest("form"),r=e.find('input[type="submit"]');i.val()==""&&r.prop("disabled",!0);i.keyup(function(){this.value=this.value.replace(/[^a-zA-Z0-9\.\%\+#-]/i,"")});i.blur(function(){$.ajax({type:"GET",url:"/admin/home/does-url-name-exist/",cache:!1,data:{urlNameType:t,currentEntityId:f,urlName:i.val()},beforeSend:function(){r.prop("disabled",!0)},success:function(n){n==!0?(alert(u),r.prop("disabled",!0)):r.prop("disabled",!1)},error:function(){}})})}function uploadEditorImage(){var t=document.getElementById("editorImage"),i=t.files,n=new FormData;n.append("editorImage",i[0]);$.ajax({url:"/admin/home/upload-editor-image/",data:n,processData:!1,async:!1,contentType:!1,type:"POST",success:function(n){alert("Скопируйте адрес изображения:\n"+n)}})}function scrollTop(){var t=$(".div-goto-up"),n=!1;t.css("cursor")=="pointer"&&(n=!0);n&&($(window).scroll(function(){$(this).scrollTop()>300?$(".div-goto-up").fadeIn():$(".div-goto-up").fadeOut()}),$(".div-goto-up").click(function(){return $("body,html").animate({scrollTop:0},100),!1}))}function likesHide(){$(function(){$(".div-likes").hide()})}$(function(){scrollTop();$("#js-link-menu").click(function(){return $(".div-header-search").hide(),$(".div-header-menu").toggle(),!1});$("#js-link-search").click(function(){return $(window).width()<768&&$(".div-header-menu").hide(),$(".div-header-search").toggle(),!1});$(window).resize(function(){var n=$(this).width();n>=768&&$(".div-header-menu").css("display","");n>=992&&$(".div-header-search").css("display","")});$(".div-lesson").find("[data-oembed-url]").css({width:"70%",margin:"0px auto"});$(".div-lesson").find("[data-oembed-url] > div").css({"max-width":"100%"})});var _self="undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{},Prism=function(n){function i(n,t,i,r,u){this.type=n;this.content=t;this.alias=i;this.length=0|(r||"").length;this.greedy=!!u}var u=/\blang(?:uage)?-([\w-]+)\b/i,e=0,t={manual:n.Prism&&n.Prism.manual,disableWorkerMessageHandler:n.Prism&&n.Prism.disableWorkerMessageHandler,util:{encode:function(n){return n instanceof i?new i(n.type,t.util.encode(n.content),n.alias):Array.isArray(n)?n.map(t.util.encode):n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(n){return Object.prototype.toString.call(n).slice(8,-1)},objId:function(n){return n.__id||Object.defineProperty(n,"__id",{value:++e}),n.__id},clone:function f(n,i){var r,u,o=t.util.type(n),e;switch(i=i||{},o){case"Object":if(u=t.util.objId(n),i[u])return i[u];for(e in r={},i[u]=r,n)n.hasOwnProperty(e)&&(r[e]=f(n[e],i));return r;case"Array":return u=t.util.objId(n),i[u]?i[u]:(r=[],i[u]=r,n.forEach(function(n,t){r[t]=f(n,i)}),r);default:return n}}},languages:{extend:function(n,i){var r=t.util.clone(t.languages[n]);for(var u in i)r[u]=i[u];return r},insertBefore:function(n,i,r,u){var s=(u=u||t.languages)[n],e={},f,o,h;for(f in s)if(s.hasOwnProperty(f)){if(f==i)for(o in r)r.hasOwnProperty(o)&&(e[o]=r[o]);r.hasOwnProperty(f)||(e[f]=s[f])}return h=u[n],u[n]=e,t.languages.DFS(t.languages,function(t,i){i===h&&t!=n&&(this[t]=e)}),e},DFS:function r(n,i,u,f){var s,o,e,h;f=f||{};s=t.util.objId;for(o in n)n.hasOwnProperty(o)&&(i.call(n,o,n[o],u||o),e=n[o],h=t.util.type(e),"Object"!==h||f[s(e)]?"Array"!==h||f[s(e)]||(f[s(e)]=!0,r(e,i,o,f)):(f[s(e)]=!0,r(e,i,null,f)))}},plugins:{},highlightAll:function(n,i){t.highlightAllUnder(document,n,i)},highlightAllUnder:function(n,i,r){var u={callback:r,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'},f,e,o;for(t.hooks.run("before-highlightall",u),e=u.elements||n.querySelectorAll(u.selector),o=0;f=e[o++];)t.highlightElement(f,!0===i,u.callback)},highlightElement:function(i,r,f){for(var s,l,e,h,c,o=i;o&&!u.test(o.className);)o=o.parentNode;o&&(s=(o.className.match(u)||[,""])[1].toLowerCase(),l=t.languages[s]);i.className=i.className.replace(u,"").replace(/\s+/g," ")+" language-"+s;i.parentNode&&(o=i.parentNode,/pre/i.test(o.nodeName)&&(o.className=o.className.replace(u,"").replace(/\s+/g," ")+" language-"+s));e={element:i,language:s,grammar:l,code:i.textContent};h=function(n){e.highlightedCode=n;t.hooks.run("before-insert",e);e.element.innerHTML=e.highlightedCode;t.hooks.run("after-highlight",e);t.hooks.run("complete",e);f&&f.call(e.element)};(t.hooks.run("before-sanity-check",e),e.code)?(t.hooks.run("before-highlight",e),e.grammar)?r&&n.Worker?(c=new Worker(t.filename),c.onmessage=function(n){h(n.data)},c.postMessage(JSON.stringify({language:e.language,code:e.code,immediateClose:!0}))):h(t.highlight(e.code,e.grammar,e.language)):h(t.util.encode(e.code)):t.hooks.run("complete",e)},highlight:function(n,r,u){var f={code:n,grammar:r,language:u};return t.hooks.run("before-tokenize",f),f.tokens=t.tokenize(f.code,f.grammar),t.hooks.run("after-tokenize",f),i.stringify(t.util.encode(f.tokens),f.language)},matchGrammar:function(n,r,u,f,e,o,s){var v,y,b,ot,l,a,p,h,d,ht;for(v in u)if(u.hasOwnProperty(v)&&u[v]){if(v==s)return;for(y=u[v],y="Array"===t.util.type(y)?y:[y],b=0;b<y.length;++b){var c=y[b],ft=c.inside,et=!!c.lookbehind,nt=!!c.greedy,tt=0,ct=c.alias;for(nt&&!c.pattern.global&&(ot=c.pattern.toString().match(/[imuy]*$/)[0],c.pattern=RegExp(c.pattern.source,ot+"g")),c=c.pattern||c,l=f,a=e;l<r.length;a+=r[l].length,++l){if(p=r[l],r.length>n.length)return;if(!(p instanceof i)){if(nt&&l!=r.length-1){if(c.lastIndex=a,!(h=c.exec(n)))break;for(var it=h.index+(et?h[1].length:0),rt=h.index+h[0].length,w=l,k=a,lt=r.length;w<lt&&(k<rt||!r[w].type&&!r[w-1].greedy);++w)(k+=r[w].length)<=it&&(++l,a=k);if(r[l]instanceof i)continue;d=w-l;p=n.slice(a,k);h.index-=a}else c.lastIndex=0,h=c.exec(p),d=1;if(h){et&&(tt=h[1]?h[1].length:0);rt=(it=h.index+tt)+(h=h[0].slice(tt)).length;var ut=p.slice(0,it),st=p.slice(rt),g=[l,d];if(ut&&(++l,a+=ut.length,g.push(ut)),ht=new i(v,ft?t.tokenize(h,ft):h,ct,h,nt),g.push(ht),st&&g.push(st),Array.prototype.splice.apply(r,g),1!=d&&t.matchGrammar(n,r,u,l,a,!0,v),o)break}else if(o)break}}}}},tokenize:function(n,i){var f=[n],r=i.rest,u;if(r){for(u in r)i[u]=r[u];delete i.rest}return t.matchGrammar(n,f,i,0,0,!1),f},hooks:{all:{},add:function(n,i){var r=t.hooks.all;r[n]=r[n]||[];r[n].push(i)},run:function(n,i){var r=t.hooks.all[n],u,f;if(r&&r.length)for(f=0;u=r[f++];)u(i)}},Token:i},r;return(n.Prism=t,i.stringify=function(n,r,u){var f,o,e;return"string"==typeof n?n:Array.isArray(n)?n.map(function(t){return i.stringify(t,r,n)}).join(""):(f={type:n.type,content:i.stringify(n.content,r,u),tag:"span",classes:["token",n.type],attributes:{},language:r,parent:u},n.alias&&(o=Array.isArray(n.alias)?n.alias:[n.alias],Array.prototype.push.apply(f.classes,o)),t.hooks.run("wrap",f),e=Object.keys(f.attributes).map(function(n){return n+'="'+(f.attributes[n]||"").replace(/"/g,"&quot;")+'"'}).join(" "),"<"+f.tag+' class="'+f.classes.join(" ")+'"'+(e?" "+e:"")+">"+f.content+"<\/"+f.tag+">")},!n.document)?(n.addEventListener&&(t.disableWorkerMessageHandler||n.addEventListener("message",function(i){var r=JSON.parse(i.data),u=r.language,f=r.code,e=r.immediateClose;n.postMessage(t.highlight(f,t.languages[u],u));e&&n.close()},!1)),t):(r=document.currentScript||[].slice.call(document.getElementsByTagName("script")).pop(),r&&(t.filename=r.src,t.manual||r.hasAttribute("data-manual")||("loading"!==document.readyState?window.requestAnimationFrame?window.requestAnimationFrame(t.highlightAll):window.setTimeout(t.highlightAll,16):document.addEventListener("DOMContentLoaded",t.highlightAll))),t)}(_self);"undefined"!=typeof module&&module.exports&&(module.exports=Prism);"undefined"!=typeof global&&(global.Prism=Prism);Prism.languages.markup={comment:/<!--[\s\S]*?-->/,prolog:/<\?[\s\S]+?\?>/,doctype:/<!DOCTYPE[\s\S]+?>/i,cdata:/<!\[CDATA\[[\s\S]*?]]>/i,tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/i,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/i,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/i,inside:{punctuation:[/^=/,{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:/&#?[\da-z]{1,8};/i};Prism.languages.markup.tag.inside["attr-value"].inside.entity=Prism.languages.markup.entity;Prism.hooks.add("wrap",function(n){"entity"===n.type&&(n.attributes.title=n.content.replace(/&amp;/,"&"))});Object.defineProperty(Prism.languages.markup.tag,"addInlined",{value:function(n,t){var i={},r,u;i["language-"+t]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:Prism.languages[t]};i.cdata=/^<!\[CDATA\[|\]\]>$/i;r={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:i}};r["language-"+t]={pattern:/[\s\S]+/,inside:Prism.languages[t]};u={};u[n]={pattern:RegExp("(<__[\\s\\S]*?>)(?:<!\\[CDATA\\[[\\s\\S]*?\\]\\]>\\s*|[\\s\\S])*?(?=<\\/__>)".replace(/__/g,n),"i"),lookbehind:!0,greedy:!0,inside:r};Prism.languages.insertBefore("markup","cdata",u)}});Prism.languages.xml=Prism.languages.extend("markup",{});Prism.languages.html=Prism.languages.markup;Prism.languages.mathml=Prism.languages.markup;Prism.languages.svg=Prism.languages.markup;!function(n){var i=/("|')(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,t;n.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:/@[\w-]+?[\s\S]*?(?:;|(?=\s*\{))/i,inside:{rule:/@[\w-]+/}},url:RegExp("url\\((?:"+i.source+"|.*?)\\)","i"),selector:RegExp("[^{}\\s](?:[^{};\"']|"+i.source+")*?(?=\\s*\\{)"),string:{pattern:i,greedy:!0},property:/[-_a-z\xA0-\uFFFF][-\w\xA0-\uFFFF]*(?=\s*:)/i,important:/!important\b/i,"function":/[-a-z0-9]+(?=\()/i,punctuation:/[(){};:,]/};n.languages.css.atrule.inside.rest=n.languages.css;t=n.languages.markup;t&&(t.tag.addInlined("style","css"),n.languages.insertBefore("inside","attr-value",{"style-attr":{pattern:/\s*style=("|')(?:\\[\s\S]|(?!\1)[^\\])*\1/i,inside:{"attr-name":{pattern:/^\s*style/i,inside:t.tag.inside},punctuation:/^\s*=\s*['"]|['"]\s*$/,"attr-value":{pattern:/.+/i,inside:n.languages.css}},alias:"language-css"}},t.tag))}(Prism);Prism.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/((?:\b(?:class|interface|extends|implements|trait|instanceof|new)\s+)|(?:catch\s+\())[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/,boolean:/\b(?:true|false)\b/,"function":/\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+\.?\d*|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/--?|\+\+?|!=?=?|<=?|>=?|==?=?|&&?|\|\|?|\?|\*|\/|~|\^|%/,punctuation:/[{}[\];(),.:]/};Prism.languages.javascript=Prism.languages.extend("clike",{"class-name":[Prism.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])[_$A-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\.(?:prototype|constructor))/,lookbehind:!0}],keyword:[{pattern:/((?:^|})\s*)(?:catch|finally)\b/,lookbehind:!0},{pattern:/(^|[^.])\b(?:as|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],number:/\b(?:(?:0[xX][\dA-Fa-f]+|0[bB][01]+|0[oO][0-7]+)n?|\d+n|NaN|Infinity)\b|(?:\b\d+\.?\d*|\B\.\d+)(?:[Ee][+-]?\d+)?/,"function":/[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,operator:/-[-=]?|\+[+=]?|!=?=?|<<?=?|>>?>?=?|=(?:==?|>)?|&[&=]?|\|[|=]?|\*\*?=?|\/=?|~|\^=?|%=?|\?|\.{3}/});Prism.languages.javascript["class-name"][0].pattern=/(\b(?:class|interface|extends|implements|instanceof|new)\s+)[\w.\\]+/;Prism.languages.insertBefore("javascript","keyword",{regex:{pattern:/((?:^|[^$\w\xA0-\uFFFF."'\])\s])\s*)\/(\[(?:[^\]\\\r\n]|\\.)*]|\\.|[^/\\\[\r\n])+\/[gimyu]{0,5}(?=\s*($|[\r\n,.;})\]]))/,lookbehind:!0,greedy:!0},"function-variable":{pattern:/[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+[_$A-Za-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*)?\s*\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\))/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/[_$a-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*=>)/i,inside:Prism.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\)\s*=>)/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:[_$A-Za-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*\s*)\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\)\s*\{)/,lookbehind:!0,inside:Prism.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/});Prism.languages.insertBefore("javascript","string",{"template-string":{pattern:/`(?:\\[\s\S]|\${[^}]+}|[^\\`])*`/,greedy:!0,inside:{interpolation:{pattern:/\${[^}]+}/,inside:{"interpolation-punctuation":{pattern:/^\${|}$/,alias:"punctuation"},rest:Prism.languages.javascript}},string:/[\s\S]+/}}});Prism.languages.markup&&Prism.languages.markup.tag.addInlined("script","javascript");Prism.languages.js=Prism.languages.javascript;Prism.languages.csharp=Prism.languages.extend("clike",{keyword:/\b(?:abstract|add|alias|as|ascending|async|await|base|bool|break|byte|case|catch|char|checked|class|const|continue|decimal|default|delegate|descending|do|double|dynamic|else|enum|event|explicit|extern|false|finally|fixed|float|for|foreach|from|get|global|goto|group|if|implicit|in|int|interface|internal|into|is|join|let|lock|long|namespace|new|null|object|operator|orderby|out|override|params|partial|private|protected|public|readonly|ref|remove|return|sbyte|sealed|select|set|short|sizeof|stackalloc|static|string|struct|switch|this|throw|true|try|typeof|uint|ulong|unchecked|unsafe|ushort|using|value|var|virtual|void|volatile|where|while|yield)\b/,string:[{pattern:/@("|')(?:\1\1|\\[\s\S]|(?!\1)[^\\])*\1/,greedy:!0},{pattern:/("|')(?:\\.|(?!\1)[^\\\r\n])*?\1/,greedy:!0}],"class-name":[{pattern:/\b[A-Z]\w*(?:\.\w+)*\b(?=\s+\w+)/,inside:{punctuation:/\./}},{pattern:/(\[)[A-Z]\w*(?:\.\w+)*\b/,lookbehind:!0,inside:{punctuation:/\./}},{pattern:/(\b(?:class|interface)\s+[A-Z]\w*(?:\.\w+)*\s*:\s*)[A-Z]\w*(?:\.\w+)*\b/,lookbehind:!0,inside:{punctuation:/\./}},{pattern:/((?:\b(?:class|interface|new)\s+)|(?:catch\s+\())[A-Z]\w*(?:\.\w+)*\b/,lookbehind:!0,inside:{punctuation:/\./}}],number:/\b0x[\da-f]+\b|(?:\b\d+\.?\d*|\B\.\d+)f?/i,operator:/>>=?|<<=?|[-=]>|([-+&|?])\1|~|[-+*/%&|^!=<>]=?/,punctuation:/\?\.?|::|[{}[\];(),.:]/});Prism.languages.insertBefore("csharp","class-name",{"generic-method":{pattern:/\w+\s*<[^>\r\n]+?>\s*(?=\()/,inside:{"function":/^\w+/,"class-name":{pattern:/\b[A-Z]\w*(?:\.\w+)*\b/,inside:{punctuation:/\./}},keyword:Prism.languages.csharp.keyword,punctuation:/[<>(),.:]/}},preprocessor:{pattern:/(^\s*)#.*/m,lookbehind:!0,alias:"property",inside:{directive:{pattern:/(\s*#)\b(?:define|elif|else|endif|endregion|error|if|line|pragma|region|undef|warning)\b/,lookbehind:!0,alias:"keyword"}}}});Prism.languages.dotnet=Prism.languages.csharp;Prism.languages.aspnet=Prism.languages.extend("markup",{"page-directive tag":{pattern:/<%\s*@.*%>/i,inside:{"page-directive tag":/<%\s*@\s*(?:Assembly|Control|Implements|Import|Master(?:Type)?|OutputCache|Page|PreviousPageType|Reference|Register)?|%>/i,rest:Prism.languages.markup.tag.inside}},"directive tag":{pattern:/<%.*%>/i,inside:{"directive tag":/<%\s*?[$=%#:]{0,2}|%>/i,rest:Prism.languages.csharp}}});Prism.languages.aspnet.tag.pattern=/<(?!%)\/?[^\s>\/]+(?:\s+[^\s>\/=]+(?:=(?:("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|[^\s'">=]+))?)*\s*\/?>/i;Prism.languages.insertBefore("inside","punctuation",{"directive tag":Prism.languages.aspnet["directive tag"]},Prism.languages.aspnet.tag.inside["attr-value"]);Prism.languages.insertBefore("aspnet","comment",{"asp comment":/<%--[\s\S]*?--%>/});Prism.languages.insertBefore("aspnet",Prism.languages.javascript?"script":"tag",{"asp script":{pattern:/(<script(?=.*runat=['"]?server['"]?)[\s\S]*?>)[\s\S]*?(?=<\/script>)/i,lookbehind:!0,inside:Prism.languages.csharp||{}}});!function(n){function t(n,t){return"___"+n.toUpperCase()+t+"___"}Object.defineProperties(n.languages["markup-templating"]={},{buildPlaceholders:{value:function(i,r,u,f){if(i.language===r){var e=i.tokenStack=[];i.code=i.code.replace(u,function(n){if("function"==typeof f&&!f(n))return n;for(var o,u=e.length;-1!==i.code.indexOf(o=t(r,u));)++u;return e[u]=n,o});i.grammar=n.languages.markup}}},tokenizePlaceholders:{value:function(i,r){if(i.language===r&&i.tokenStack){i.grammar=n.languages[r];var u=0,e=Object.keys(i.tokenStack);!function f(o){for(var s,c=0;c<o.length&&!(u>=e.length);c++)if(s=o[c],"string"==typeof s||s.content&&"string"==typeof s.content){var v=e[u],y=i.tokenStack[v],l="string"==typeof s?s:s.content,p=t(r,v),a=l.indexOf(p);if(-1<a){++u;var w=l.substring(0,a),k=new n.Token(r,n.tokenize(y,i.grammar),"language-"+r,y),b=l.substring(a+p.length),h=[];w&&h.push.apply(h,f([w]));h.push(k);b&&h.push.apply(h,f([b]));"string"==typeof s?o.splice.apply(o,[c,1].concat(h)):s.content=h}}else s.content&&f(s.content);return o}(i.tokens)}}}})}(Prism);Prism.languages.less=Prism.languages.extend("css",{comment:[/\/\*[\s\S]*?\*\//,{pattern:/(^|[^\\])\/\/.*/,lookbehind:!0}],atrule:{pattern:/@[\w-]+?(?:\([^{}]+\)|[^(){};])*?(?=\s*\{)/i,inside:{punctuation:/[:()]/}},selector:{pattern:/(?:@\{[\w-]+\}|[^{};\s@])(?:@\{[\w-]+\}|\([^{}]*\)|[^{};@])*?(?=\s*\{)/,inside:{variable:/@+[\w-]+/}},property:/(?:@\{[\w-]+\}|[\w-])+(?:\+_?)?(?=\s*:)/i,operator:/[+\-*\/]/});Prism.languages.insertBefore("less","property",{variable:[{pattern:/@[\w-]+\s*:/,inside:{punctuation:/:/}},/@@?[\w-]+/],"mixin-usage":{pattern:/([{;]\s*)[.#](?!\d)[\w-]+.*?(?=[(;])/,lookbehind:!0,alias:"function"}});!function(n){n.languages.php=n.languages.extend("clike",{keyword:/\b(?:__halt_compiler|abstract|and|array|as|break|callable|case|catch|class|clone|const|continue|declare|default|die|do|echo|else|elseif|empty|enddeclare|endfor|endforeach|endif|endswitch|endwhile|eval|exit|extends|final|finally|for|foreach|function|global|goto|if|implements|include|include_once|instanceof|insteadof|interface|isset|list|namespace|new|or|parent|print|private|protected|public|require|require_once|return|static|switch|throw|trait|try|unset|use|var|while|xor|yield)\b/i,boolean:{pattern:/\b(?:false|true)\b/i,alias:"constant"},constant:[/\b[A-Z_][A-Z0-9_]*\b/,/\b(?:null)\b/i],comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|\/\/.*)/,lookbehind:!0}});n.languages.insertBefore("php","string",{"shell-comment":{pattern:/(^|[^\\])#.*/,lookbehind:!0,alias:"comment"}});n.languages.insertBefore("php","comment",{delimiter:{pattern:/\?>$|^<\?(?:php(?=\s)|=)?/i,alias:"important"}});n.languages.insertBefore("php","keyword",{variable:/\$+(?:\w+\b|(?={))/i,package:{pattern:/(\\|namespace\s+|use\s+)[\w\\]+/,lookbehind:!0,inside:{punctuation:/\\/}}});n.languages.insertBefore("php","operator",{property:{pattern:/(->)[\w]+/,lookbehind:!0}});var t={pattern:/{\$(?:{(?:{[^{}]+}|[^{}]+)}|[^{}])+}|(^|[^\\{])\$+(?:\w+(?:\[.+?]|->\w+)*)/,lookbehind:!0,inside:{rest:n.languages.php}};n.languages.insertBefore("php","string",{"nowdoc-string":{pattern:/<<<'([^']+)'(?:\r\n?|\n)(?:.*(?:\r\n?|\n))*?\1;/,greedy:!0,alias:"string",inside:{delimiter:{pattern:/^<<<'[^']+'|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<'?|[';]$/}}}},"heredoc-string":{pattern:/<<<(?:"([^"]+)"(?:\r\n?|\n)(?:.*(?:\r\n?|\n))*?\1;|([a-z_]\w*)(?:\r\n?|\n)(?:.*(?:\r\n?|\n))*?\2;)/i,greedy:!0,alias:"string",inside:{delimiter:{pattern:/^<<<(?:"[^"]+"|[a-z_]\w*)|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<"?|[";]$/}},interpolation:t}},"single-quoted-string":{pattern:/'(?:\\[\s\S]|[^\\'])*'/,greedy:!0,alias:"string"},"double-quoted-string":{pattern:/"(?:\\[\s\S]|[^\\"])*"/,greedy:!0,alias:"string",inside:{interpolation:t}}});delete n.languages.php.string;n.hooks.add("before-tokenize",function(t){/<\?/.test(t.code)&&n.languages["markup-templating"].buildPlaceholders(t,"php",/<\?(?:[^"'/#]|\/(?![*/])|("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|(?:\/\/|#)(?:[^?\n\r]|\?(?!>))*|\/\*[\s\S]*?(?:\*\/|$))*?(?:\?>|$)/gi)});n.hooks.add("after-tokenize",function(t){n.languages["markup-templating"].tokenizePlaceholders(t,"php")})}(Prism);Prism.languages.json={comment:/\/\/.*|\/\*[\s\S]*?(?:\*\/|$)/,property:{pattern:/"(?:\\.|[^\\"\r\n])*"(?=\s*:)/,greedy:!0},string:{pattern:/"(?:\\.|[^\\"\r\n])*"(?!\s*:)/,greedy:!0},number:/-?\d+\.?\d*(e[+-]?\d+)?/i,punctuation:/[{}[\],]/,operator:/:/,boolean:/\b(?:true|false)\b/,"null":{pattern:/\bnull\b/,alias:"keyword"}};Prism.languages.jsonp=Prism.languages.extend("json",{punctuation:/[{}[\]();,.]/});Prism.languages.insertBefore("jsonp","punctuation",{"function":/[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*\()/});Prism.languages.insertBefore("php","variable",{"this":/\$this\b/,global:/\$(?:_(?:SERVER|GET|POST|FILES|REQUEST|SESSION|ENV|COOKIE)|GLOBALS|HTTP_RAW_POST_DATA|argc|argv|php_errormsg|http_response_header)\b/,scope:{pattern:/\b[\w\\]+::/,inside:{keyword:/static|self|parent/,punctuation:/::|\\/}}});Prism.languages.sql={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|(?:--|\/\/|#).*)/,lookbehind:!0},variable:[{pattern:/@(["'`])(?:\\[\s\S]|(?!\1)[^\\])+\1/,greedy:!0},/@[\w.$]+/],string:{pattern:/(^|[^@\\])("|')(?:\\[\s\S]|(?!\2)[^\\]|\2\2)*\2/,greedy:!0,lookbehind:!0},"function":/\b(?:AVG|COUNT|FIRST|FORMAT|LAST|LCASE|LEN|MAX|MID|MIN|MOD|NOW|ROUND|SUM|UCASE)(?=\s*\()/i,keyword:/\b(?:ACTION|ADD|AFTER|ALGORITHM|ALL|ALTER|ANALYZE|ANY|APPLY|AS|ASC|AUTHORIZATION|AUTO_INCREMENT|BACKUP|BDB|BEGIN|BERKELEYDB|BIGINT|BINARY|BIT|BLOB|BOOL|BOOLEAN|BREAK|BROWSE|BTREE|BULK|BY|CALL|CASCADED?|CASE|CHAIN|CHAR(?:ACTER|SET)?|CHECK(?:POINT)?|CLOSE|CLUSTERED|COALESCE|COLLATE|COLUMNS?|COMMENT|COMMIT(?:TED)?|COMPUTE|CONNECT|CONSISTENT|CONSTRAINT|CONTAINS(?:TABLE)?|CONTINUE|CONVERT|CREATE|CROSS|CURRENT(?:_DATE|_TIME|_TIMESTAMP|_USER)?|CURSOR|CYCLE|DATA(?:BASES?)?|DATE(?:TIME)?|DAY|DBCC|DEALLOCATE|DEC|DECIMAL|DECLARE|DEFAULT|DEFINER|DELAYED|DELETE|DELIMITERS?|DENY|DESC|DESCRIBE|DETERMINISTIC|DISABLE|DISCARD|DISK|DISTINCT|DISTINCTROW|DISTRIBUTED|DO|DOUBLE|DROP|DUMMY|DUMP(?:FILE)?|DUPLICATE|ELSE(?:IF)?|ENABLE|ENCLOSED|END|ENGINE|ENUM|ERRLVL|ERRORS|ESCAPED?|EXCEPT|EXEC(?:UTE)?|EXISTS|EXIT|EXPLAIN|EXTENDED|FETCH|FIELDS|FILE|FILLFACTOR|FIRST|FIXED|FLOAT|FOLLOWING|FOR(?: EACH ROW)?|FORCE|FOREIGN|FREETEXT(?:TABLE)?|FROM|FULL|FUNCTION|GEOMETRY(?:COLLECTION)?|GLOBAL|GOTO|GRANT|GROUP|HANDLER|HASH|HAVING|HOLDLOCK|HOUR|IDENTITY(?:_INSERT|COL)?|IF|IGNORE|IMPORT|INDEX|INFILE|INNER|INNODB|INOUT|INSERT|INT|INTEGER|INTERSECT|INTERVAL|INTO|INVOKER|ISOLATION|ITERATE|JOIN|KEYS?|KILL|LANGUAGE|LAST|LEAVE|LEFT|LEVEL|LIMIT|LINENO|LINES|LINESTRING|LOAD|LOCAL|LOCK|LONG(?:BLOB|TEXT)|LOOP|MATCH(?:ED)?|MEDIUM(?:BLOB|INT|TEXT)|MERGE|MIDDLEINT|MINUTE|MODE|MODIFIES|MODIFY|MONTH|MULTI(?:LINESTRING|POINT|POLYGON)|NATIONAL|NATURAL|NCHAR|NEXT|NO|NONCLUSTERED|NULLIF|NUMERIC|OFF?|OFFSETS?|ON|OPEN(?:DATASOURCE|QUERY|ROWSET)?|OPTIMIZE|OPTION(?:ALLY)?|ORDER|OUT(?:ER|FILE)?|OVER|PARTIAL|PARTITION|PERCENT|PIVOT|PLAN|POINT|POLYGON|PRECEDING|PRECISION|PREPARE|PREV|PRIMARY|PRINT|PRIVILEGES|PROC(?:EDURE)?|PUBLIC|PURGE|QUICK|RAISERROR|READS?|REAL|RECONFIGURE|REFERENCES|RELEASE|RENAME|REPEAT(?:ABLE)?|REPLACE|REPLICATION|REQUIRE|RESIGNAL|RESTORE|RESTRICT|RETURNS?|REVOKE|RIGHT|ROLLBACK|ROUTINE|ROW(?:COUNT|GUIDCOL|S)?|RTREE|RULE|SAVE(?:POINT)?|SCHEMA|SECOND|SELECT|SERIAL(?:IZABLE)?|SESSION(?:_USER)?|SET(?:USER)?|SHARE|SHOW|SHUTDOWN|SIMPLE|SMALLINT|SNAPSHOT|SOME|SONAME|SQL|START(?:ING)?|STATISTICS|STATUS|STRIPED|SYSTEM_USER|TABLES?|TABLESPACE|TEMP(?:ORARY|TABLE)?|TERMINATED|TEXT(?:SIZE)?|THEN|TIME(?:STAMP)?|TINY(?:BLOB|INT|TEXT)|TOP?|TRAN(?:SACTIONS?)?|TRIGGER|TRUNCATE|TSEQUAL|TYPES?|UNBOUNDED|UNCOMMITTED|UNDEFINED|UNION|UNIQUE|UNLOCK|UNPIVOT|UNSIGNED|UPDATE(?:TEXT)?|USAGE|USE|USER|USING|VALUES?|VAR(?:BINARY|CHAR|CHARACTER|YING)|VIEW|WAITFOR|WARNINGS|WHEN|WHERE|WHILE|WITH(?: ROLLUP|IN)?|WORK|WRITE(?:TEXT)?|YEAR)\b/i,boolean:/\b(?:TRUE|FALSE|NULL)\b/i,number:/\b0x[\da-f]+\b|\b\d+\.?\d*|\B\.\d+\b/i,operator:/[-+*\/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?|\b(?:AND|BETWEEN|IN|LIKE|NOT|OR|IS|DIV|REGEXP|RLIKE|SOUNDS LIKE|XOR)\b/i,punctuation:/[;[\]()`,.]/};Prism.languages.scss=Prism.languages.extend("css",{comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|\/\/.*)/,lookbehind:!0},atrule:{pattern:/@[\w-]+(?:\([^()]+\)|[^(])*?(?=\s+[{;])/,inside:{rule:/@[\w-]+/}},url:/(?:[-a-z]+-)*url(?=\()/i,selector:{pattern:/(?=\S)[^@;{}()]?(?:[^@;{}()]|#\{\$[-\w]+\})+(?=\s*\{(?:\}|\s|[^}]+[:{][^}]+))/m,inside:{parent:{pattern:/&/,alias:"important"},placeholder:/%[-\w]+/,variable:/\$[-\w]+|#\{\$[-\w]+\}/}},property:{pattern:/(?:[\w-]|\$[-\w]+|#\{\$[-\w]+\})+(?=\s*:)/,inside:{variable:/\$[-\w]+|#\{\$[-\w]+\}/}}});Prism.languages.insertBefore("scss","atrule",{keyword:[/@(?:if|else(?: if)?|for|each|while|import|extend|debug|warn|mixin|include|function|return|content)/i,{pattern:/( +)(?:from|through)(?= )/,lookbehind:!0}]});Prism.languages.insertBefore("scss","important",{variable:/\$[-\w]+|#\{\$[-\w]+\}/});Prism.languages.insertBefore("scss","function",{placeholder:{pattern:/%[-\w]+/,alias:"selector"},statement:{pattern:/\B!(?:default|optional)\b/i,alias:"keyword"},boolean:/\b(?:true|false)\b/,"null":{pattern:/\bnull\b/,alias:"keyword"},operator:{pattern:/(\s)(?:[-+*\/%]|[=!]=|<=?|>=?|and|or|not)(?=\s)/,lookbehind:!0}});Prism.languages.scss.atrule.inside.rest=Prism.languages.scss;!function(n){var i={pattern:/\\[\\(){}[\]^$+*?|.]/,alias:"escape"},t=/\\(?:x[\da-fA-F]{2}|u[\da-fA-F]{4}|u\{[\da-fA-F]+\}|c[a-zA-Z]|0[0-7]{0,2}|[123][0-7]{2}|.)/,r=/\\[wsd]|\.|\\p{[^{}]+}/i,u="(?:[^\\\\-]|"+t.source+")",o=RegExp(u+"-"+u),f={pattern:/(<|')[^<>']+(?=[>']$)/,lookbehind:!0,alias:"variable"},e=[/\\(?![123][0-7]{2})[1-9]/,{pattern:/\\k<[^<>']+>/,inside:{"group-name":f}}];n.languages.regex={charset:{pattern:/((?:^|[^\\])(?:\\\\)*)\[(?:[^\\\]]|\\[\s\S])*\]/,lookbehind:!0,inside:{"charset-negation":{pattern:/(^\[)\^/,lookbehind:!0},"charset-punctuation":/^\[|\]$/,range:{pattern:o,inside:{escape:t,"range-punctuation":/-/}},"special-escape":i,charclass:r,backreference:e,escape:t}},"special-escape":i,charclass:r,backreference:e,anchor:/[$^]|\\[ABbGZz]/,escape:t,group:[{pattern:/\((?:\?(?:<[^<>']+>|'[^<>']+'|[>:]|<?[=!]|[idmnsuxU]+(?:-[idmnsuxU]+)?:?))?/,inside:{"group-name":f}},/\)/],quantifier:/[+*?]|\{(?:\d+,?\d*)\}/,alternation:/\|/};["actionscript","coffescript","flow","javascript","typescript","vala"].forEach(function(t){var i=n.languages[t];i&&(i.regex.inside={"regex-flags":/[a-z]+$/,"regex-delimiter":/^\/|\/$/,"language-regex":{pattern:/[\s\S]+/,inside:n.languages.regex}})})}(Prism);!function(){function r(n,t){return Array.prototype.slice.call((t||document).querySelectorAll(n))}function u(n,t){return t=" "+t+" ",-1<(" "+n.className+" ").replace(/[\n\t]/g," ").indexOf(t)}function t(n,t,i){for(var h,c,o,v=(t="string"==typeof t?t:n.getAttribute("data-line")).replace(/\s+/g,"").split(","),y=+n.getAttribute("data-line-offset")||0,p=(e()?parseInt:parseFloat)(getComputedStyle(n).lineHeight),l=u(n,"line-numbers"),w=0;o=v[w++];){var a=o.split("-"),f=+a[0],s=+a[1]||f,r=n.querySelector('.line-highlight[data-range="'+o+'"]')||document.createElement("div");(r.setAttribute("aria-hidden","true"),r.setAttribute("data-range",o),r.className=(i||"")+" line-highlight",l&&Prism.plugins.lineNumbers)?(h=Prism.plugins.lineNumbers.getLine(n,f),c=Prism.plugins.lineNumbers.getLine(n,s),h&&(r.style.top=h.offsetTop+"px"),c&&(r.style.height=c.offsetTop-h.offsetTop+c.offsetHeight+"px")):(r.setAttribute("data-start",f),f<s&&r.setAttribute("data-end",s),r.style.top=(f-y-1)*p+"px",r.textContent=new Array(s-f+2).join(" \n"));l?n.appendChild(r):(n.querySelector("code")||n).appendChild(r)}}function f(){var i=location.hash.slice(1),u,f,n;r(".temporary.line-highlight").forEach(function(n){n.parentNode.removeChild(n)});u=(i.match(/\.([\d,-]+)$/)||[,""])[1];u&&!document.getElementById(i)&&(f=i.slice(0,i.lastIndexOf(".")),n=document.getElementById(f),n&&(n.hasAttribute("data-line")||n.setAttribute("data-line",""),t(n,u,"temporary "),document.querySelector(".temporary.line-highlight").scrollIntoView()))}if("undefined"!=typeof self&&self.Prism&&self.document&&document.querySelector){var n,e=function(){if(void 0===n){var t=document.createElement("div");t.style.fontSize="13px";t.style.lineHeight="1.5";t.style.padding=0;t.style.border=0;t.innerHTML="&nbsp;<br />&nbsp;";document.body.appendChild(t);n=38===t.offsetHeight;document.body.removeChild(t)}return n},i=0;Prism.hooks.add("before-sanity-check",function(n){var t=n.element.parentNode,u=t&&t.getAttribute("data-line"),i;t&&u&&/pre/i.test(t.nodeName)&&(i=0,r(".line-highlight",t).forEach(function(n){i+=n.textContent.length;n.parentNode.removeChild(n)}),i&&/^( \n)+$/.test(n.code.slice(-i))&&(n.code=n.code.slice(0,-i)))});Prism.hooks.add("complete",function o(n){var r=n.element.parentNode,e=r&&r.getAttribute("data-line"),s,h;r&&e&&/pre/i.test(r.nodeName)&&(clearTimeout(i),s=Prism.plugins.lineNumbers,h=n.plugins&&n.plugins.lineNumbers,u(r,"line-numbers")&&s&&!h?Prism.hooks.add("line-numbers",o):(t(r,e),i=setTimeout(f,1)))});window.addEventListener("hashchange",f);window.addEventListener("resize",function(){var n=document.querySelectorAll("pre[data-line]");Array.prototype.forEach.call(n,function(n){t(n)})})}}();!function(){if("undefined"!=typeof self&&self.Prism&&self.document){var n="line-numbers",t=/\n(?!$)/g,i=function(n){var u=r(n)["white-space"];if("pre-wrap"===u||"pre-line"===u){var f=n.querySelector("code"),e=n.querySelector(".line-numbers-rows"),i=n.querySelector(".line-numbers-sizer"),o=f.textContent.split(t);i||((i=document.createElement("span")).className="line-numbers-sizer",f.appendChild(i));i.style.display="block";o.forEach(function(n,t){i.textContent=n||"\n";var r=i.getBoundingClientRect().height;e.children[t].style.height=r+"px"});i.textContent="";i.style.display="none"}},r=function(n){return n?window.getComputedStyle?getComputedStyle(n):n.currentStyle||null:null};window.addEventListener("resize",function(){Array.prototype.forEach.call(document.querySelectorAll("pre."+n),i)});Prism.hooks.add("complete",function(n){var u,r;if(n.code&&(u=n.element,r=u.parentNode,r&&/pre/i.test(r.nodeName)&&!u.querySelector(".line-numbers-rows"))){for(var s=!1,o=/(?:^|\s)line-numbers(?:\s|$)/,f=u;f;f=f.parentNode)if(o.test(f.className)){s=!0;break}if(s){u.className=u.className.replace(o," ");o.test(r.className)||(r.className+=" line-numbers");var e,h=n.code.match(t),c=h?h.length+1:1,l=new Array(c+1).join("<span><\/span>");(e=document.createElement("span")).setAttribute("aria-hidden","true");e.className="line-numbers-rows";e.innerHTML=l;r.hasAttribute("data-start")&&(r.style.counterReset="linenumber "+(parseInt(r.getAttribute("data-start"),10)-1));n.element.appendChild(e);i(r);Prism.hooks.run("line-numbers",n)}}});Prism.hooks.add("line-numbers",function(n){n.plugins=n.plugins||{};n.plugins.lineNumbers=!0});Prism.plugins.lineNumbers={getLine:function(t,i){var e;if("PRE"===t.tagName&&t.classList.contains(n)){var u=t.querySelector(".line-numbers-rows"),r=parseInt(t.getAttribute("data-start"),10)||1,f=r+(u.children.length-1);return i<r&&(i=r),f<i&&(i=f),e=i-r,u.children[e]}}}}}();("undefined"==typeof self||self.Prism)&&("undefined"==typeof global||global.Prism)&&Prism.hooks.add("wrap",function(n){"keyword"===n.type&&n.classes.push("keyword-"+n.content)});
/*!
 * Lightbox v2.11.1
 * by Lokesh Dhakar
 *
 * More info:
 * http://lokeshdhakar.com/projects/lightbox2/
 *
 * Copyright Lokesh Dhakar
 * Released under the MIT license
 * https://github.com/lokesh/lightbox2/blob/master/LICENSE
 *
 * @preserve
 */
!function(n,t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):n.lightbox=t(n.jQuery)}(this,function(n){function t(t){this.album=[];this.currentImageIndex=void 0;this.init();this.options=n.extend({},this.constructor.defaults);this.option(t)}return t.defaults={albumLabel:"Image %1 of %2",alwaysShowNavOnTouchDevices:!1,fadeDuration:600,fitImagesInViewport:!0,imageFadeDuration:600,positionFromTop:50,resizeDuration:700,showImageNumberLabel:!0,wrapAround:!1,disableScrolling:!1,sanitizeTitle:!1},t.prototype.option=function(t){n.extend(this.options,t)},t.prototype.imageCountLabel=function(n,t){return this.options.albumLabel.replace(/%1/g,n).replace(/%2/g,t)},t.prototype.init=function(){var t=this;n(document).ready(function(){t.enable();t.build()})},t.prototype.enable=function(){var t=this;n("body").on("click","a[rel^=lightbox], area[rel^=lightbox], a[data-lightbox], area[data-lightbox]",function(i){return t.start(n(i.currentTarget)),!1})},t.prototype.build=function(){if(!(n("#lightbox").length>0)){var t=this;n('<div id="lightboxOverlay" tabindex="-1" class="lightboxOverlay"><\/div><div id="lightbox" tabindex="-1" class="lightbox"><div class="lb-outerContainer"><div class="lb-container"><img class="lb-image" src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==" alt=""/><div class="lb-nav"><a class="lb-prev" aria-label="Previous image" href="" ><\/a><a class="lb-next" aria-label="Next image" href="" ><\/a><\/div><div class="lb-loader"><a class="lb-cancel"><\/a><\/div><\/div><\/div><div class="lb-dataContainer"><div class="lb-data"><div class="lb-details"><span class="lb-caption"><\/span><span class="lb-number"><\/span><\/div><div class="lb-closeContainer"><a class="lb-close"><\/a><\/div><\/div><\/div><\/div>').appendTo(n("body"));this.$lightbox=n("#lightbox");this.$overlay=n("#lightboxOverlay");this.$outerContainer=this.$lightbox.find(".lb-outerContainer");this.$container=this.$lightbox.find(".lb-container");this.$image=this.$lightbox.find(".lb-image");this.$nav=this.$lightbox.find(".lb-nav");this.containerPadding={top:parseInt(this.$container.css("padding-top"),10),right:parseInt(this.$container.css("padding-right"),10),bottom:parseInt(this.$container.css("padding-bottom"),10),left:parseInt(this.$container.css("padding-left"),10)};this.imageBorderWidth={top:parseInt(this.$image.css("border-top-width"),10),right:parseInt(this.$image.css("border-right-width"),10),bottom:parseInt(this.$image.css("border-bottom-width"),10),left:parseInt(this.$image.css("border-left-width"),10)};this.$overlay.hide().on("click",function(){return t.end(),!1});this.$lightbox.hide().on("click",function(i){"lightbox"===n(i.target).attr("id")&&t.end()});this.$outerContainer.on("click",function(i){return"lightbox"===n(i.target).attr("id")&&t.end(),!1});this.$lightbox.find(".lb-prev").on("click",function(){return 0===t.currentImageIndex?t.changeImage(t.album.length-1):t.changeImage(t.currentImageIndex-1),!1});this.$lightbox.find(".lb-next").on("click",function(){return t.currentImageIndex===t.album.length-1?t.changeImage(0):t.changeImage(t.currentImageIndex+1),!1});this.$nav.on("mousedown",function(n){3===n.which&&(t.$nav.css("pointer-events","none"),t.$lightbox.one("contextmenu",function(){setTimeout(function(){this.$nav.css("pointer-events","auto")}.bind(t),0)}))});this.$lightbox.find(".lb-loader, .lb-close").on("click",function(){return t.end(),!1})}},t.prototype.start=function(t){function e(n){l.album.push({alt:n.attr("data-alt"),link:n.attr("href"),title:n.attr("data-title")||n.attr("title")})}var l=this,o=n(window),i,f,s,r,u,h,c;if(o.on("resize",n.proxy(this.sizeOverlay,this)),this.sizeOverlay(),this.album=[],f=0,s=t.attr("data-lightbox"),s)for(i=n(t.prop("tagName")+'[data-lightbox="'+s+'"]'),r=0;r<i.length;r=++r)e(n(i[r])),i[r]===t[0]&&(f=r);else if("lightbox"===t.attr("rel"))e(t);else for(i=n(t.prop("tagName")+'[rel="'+t.attr("rel")+'"]'),u=0;u<i.length;u=++u)e(n(i[u])),i[u]===t[0]&&(f=u);h=o.scrollTop()+this.options.positionFromTop;c=o.scrollLeft();this.$lightbox.css({top:h+"px",left:c+"px"}).fadeIn(this.options.fadeDuration);this.options.disableScrolling&&n("body").addClass("lb-disable-scrolling");this.changeImage(f)},t.prototype.changeImage=function(t){var i=this,f=this.album[t].link,e=f.split(".").slice(-1)[0],u=this.$lightbox.find(".lb-image"),r;this.disableKeyboardNav();this.$overlay.fadeIn(this.options.fadeDuration);n(".lb-loader").fadeIn("slow");this.$lightbox.find(".lb-image, .lb-nav, .lb-prev, .lb-next, .lb-dataContainer, .lb-numbers, .lb-caption").hide();this.$outerContainer.addClass("animating");r=new Image;r.onload=function(){var h,c,o,s,l,a;u.attr({alt:i.album[t].alt,src:f});n(r);u.width(r.width);u.height(r.height);a=n(window).width();l=n(window).height();s=a-i.containerPadding.left-i.containerPadding.right-i.imageBorderWidth.left-i.imageBorderWidth.right-20;o=l-i.containerPadding.top-i.containerPadding.bottom-i.imageBorderWidth.top-i.imageBorderWidth.bottom-i.options.positionFromTop-70;"svg"===e&&(0!==r.width&&0!==r.height||(u.width(s),u.height(o)));i.options.fitImagesInViewport?(i.options.maxWidth&&i.options.maxWidth<s&&(s=i.options.maxWidth),i.options.maxHeight&&i.options.maxHeight<o&&(o=i.options.maxHeight)):(s=i.options.maxWidth||r.width||s,o=i.options.maxHeight||r.height||o);(r.width>s||r.height>o)&&(r.width/s>r.height/o?(c=s,h=parseInt(r.height/(r.width/c),10),u.width(c),u.height(h)):(h=o,c=parseInt(r.width/(r.height/h),10),u.width(c),u.height(h)));i.sizeContainer(u.width(),u.height())};r.src=this.album[t].link;this.currentImageIndex=t},t.prototype.sizeOverlay=function(){var t=this;setTimeout(function(){t.$overlay.width(n(document).width()).height(n(document).height())},0)},t.prototype.sizeContainer=function(n,t){function f(){i.$lightbox.find(".lb-dataContainer").width(u);i.$lightbox.find(".lb-prevLink").height(r);i.$lightbox.find(".lb-nextLink").height(r);i.$overlay.focus();i.showImage()}var i=this,e=this.$outerContainer.outerWidth(),o=this.$outerContainer.outerHeight(),u=n+this.containerPadding.left+this.containerPadding.right+this.imageBorderWidth.left+this.imageBorderWidth.right,r=t+this.containerPadding.top+this.containerPadding.bottom+this.imageBorderWidth.top+this.imageBorderWidth.bottom;e!==u||o!==r?this.$outerContainer.animate({width:u,height:r},this.options.resizeDuration,"swing",function(){f()}):f()},t.prototype.showImage=function(){this.$lightbox.find(".lb-loader").stop(!0).hide();this.$lightbox.find(".lb-image").fadeIn(this.options.imageFadeDuration);this.updateNav();this.updateDetails();this.preloadNeighboringImages();this.enableKeyboardNav()},t.prototype.updateNav=function(){var n=!1;try{document.createEvent("TouchEvent");n=!!this.options.alwaysShowNavOnTouchDevices}catch(n){}this.$lightbox.find(".lb-nav").show();this.album.length>1&&(this.options.wrapAround?(n&&this.$lightbox.find(".lb-prev, .lb-next").css("opacity","1"),this.$lightbox.find(".lb-prev, .lb-next").show()):(this.currentImageIndex>0&&(this.$lightbox.find(".lb-prev").show(),n&&this.$lightbox.find(".lb-prev").css("opacity","1")),this.currentImageIndex<this.album.length-1&&(this.$lightbox.find(".lb-next").show(),n&&this.$lightbox.find(".lb-next").css("opacity","1"))))},t.prototype.updateDetails=function(){var i=this,n,t;void 0!==this.album[this.currentImageIndex].title&&""!==this.album[this.currentImageIndex].title&&(n=this.$lightbox.find(".lb-caption"),this.options.sanitizeTitle?n.text(this.album[this.currentImageIndex].title):n.html(this.album[this.currentImageIndex].title),n.fadeIn("fast"));this.album.length>1&&this.options.showImageNumberLabel?(t=this.imageCountLabel(this.currentImageIndex+1,this.album.length),this.$lightbox.find(".lb-number").text(t).fadeIn("fast")):this.$lightbox.find(".lb-number").hide();this.$outerContainer.removeClass("animating");this.$lightbox.find(".lb-dataContainer").fadeIn(this.options.resizeDuration,function(){return i.sizeOverlay()})},t.prototype.preloadNeighboringImages=function(){this.album.length>this.currentImageIndex+1&&((new Image).src=this.album[this.currentImageIndex+1].link);this.currentImageIndex>0&&((new Image).src=this.album[this.currentImageIndex-1].link)},t.prototype.enableKeyboardNav=function(){this.$lightbox.on("keyup.keyboard",n.proxy(this.keyboardAction,this));this.$overlay.on("keyup.keyboard",n.proxy(this.keyboardAction,this))},t.prototype.disableKeyboardNav=function(){this.$lightbox.off(".keyboard");this.$overlay.off(".keyboard")},t.prototype.keyboardAction=function(n){var t=n.keyCode;27===t?(n.stopPropagation(),this.end()):37===t?0!==this.currentImageIndex?this.changeImage(this.currentImageIndex-1):this.options.wrapAround&&this.album.length>1&&this.changeImage(this.album.length-1):39===t&&(this.currentImageIndex!==this.album.length-1?this.changeImage(this.currentImageIndex+1):this.options.wrapAround&&this.album.length>1&&this.changeImage(0))},t.prototype.end=function(){this.disableKeyboardNav();n(window).off("resize",this.sizeOverlay);this.$lightbox.fadeOut(this.options.fadeDuration);this.$overlay.fadeOut(this.options.fadeDuration);this.options.disableScrolling&&n("body").removeClass("lb-disable-scrolling")},new t});